new class{constructor(e){this.inputs=null,this.init(),this.mappedMasks=e||null,this.tokens={0:{validateRule:/\d/}}}init(){"complete"===document.readyState?(this.initModalListener(),this.getInput()):window.addEventListener("load",this.init.bind(this))}initModalListener(){const e=document.body;new MutationObserver((e=>{e.forEach((e=>{"childList"===e.type&&e.addedNodes.forEach((e=>{e.classList&&e.classList.contains("elementor-popup-modal")&&this.getInput()}))}))})).observe(e,{childList:!0})}getInput(){this.inputs=document.querySelectorAll("input[data-mask]"),this.inputs.forEach((e=>{this.handleMappedMasks(e),e.addEventListener("input",this.maskInput.bind(this)),e.addEventListener("keydown",this.handleBackspace.bind(this))}))}handleMappedMasks(e){if(!this.mappedMasks)return;const t=this.mappedMasks[e.dataset.mask];t&&(e.dataset.mask=t.mask,e.dataset.maskReverse=t.reverse,e.inputmode=t.inputmode)}maskInput(e){const t=e.target,s=t.dataset.mask,i=t.value,a=this.removeMask(s,i),n="true"===t.dataset.maskReverse,r=this.applyMask(a,s,n);t.value=r}removeMask(e,t){if(!e||!t)return t;const s=Object.keys(this.tokens),i=new RegExp(`[${s.join("")}]`,"g"),a=e.replace(i,"");return t.replace(new RegExp(`[${a}]`,"g"),"")}handleBackspace(e){const t=e.target;if("Backspace"===e.key&&t.selectionStart===t.selectionEnd){const s=t.selectionStart;if(s>0){const i=t.value;/\d/.test(i[s-1])||(e.preventDefault(),t.value=i.slice(0,s-1)+i.slice(s),t.setSelectionRange(s-1,s-1))}}}applyMask(e,t,s){if(!e)return e;let i="",a=0,n=t.split("");s&&(e=e.split("").reverse().join(""),n=n.reverse());for(let t=0;t<n.length;t++)if("0"===n[t]){if(!new RegExp(this.tokens[0].validateRule).test(e[a]))break;i+=e[a],a++}else i+=n[t];return s&&(i=i.split("").reverse().join(""),i=i.startsWith(".")?i.substring(1):i),i}}({"ev-tel":{mask:"0000-0000",reverse:!1,inputmode:"tel"},"ev-tel-ddd":{mask:"(00) 0000-0000",reverse:!1,inputmode:"tel"},"ev-tel-ddd9":{mask:"(00) 00000-0000",reverse:!1},"ev-tel-us":{mask:"(000) 000-0000",reverse:!1,inputmode:"tel"},"ev-cpf":{mask:"000.000.000-00",reverse:!1,inputmode:"numeric"},"ev-cnpj":{mask:"00.000.000/0000-00",reverse:!1,inputmode:"numeric"},"ev-money":{mask:"000.000.000.000.000,00",reverse:!0,inputmode:"numeric"},"ev-ccard":{mask:"0000-0000-0000-0000",reverse:!1,inputmode:"numeric"},"ev-ccard-valid":{mask:"00/00",reverse:!1,inputmode:"numeric"},"ev-cep":{mask:"00000-000",reverse:!1,inputmode:"numeric"},"ev-time":{mask:"00:00:00",reverse:!1,inputmode:"numeric"},"ev-date":{mask:"00/00/0000",reverse:!1,inputmode:"numeric"},"ev-date_time":{mask:"00/00/0000 00:00:00",reverse:!1,inputmode:"numeric"}});